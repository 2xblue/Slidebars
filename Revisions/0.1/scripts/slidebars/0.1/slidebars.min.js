// ---------
// Slidebars
// 0.1
//
// Written by Adam Smith
// http://www.adchsm.me/
//
// Slidebars uses additional scripts:
// Hammer.js by Eight Media (http://eightmedia.github.io/hammer.js/)
// Transit by Rico Sta. Cruz (http://ricostacruz.com/jquery.transit/)
// IE Detection by James Padolsey (http://james.padolsey.com/)

var ie=(function(){var c,a=3,d=document.createElement("div"),b=d.getElementsByTagName("i");while(d.innerHTML="<!--[if gt IE "+(++a)+"]><i></i><![endif]-->",b[0]){}return a>4?a:c}());function slidebars(c){var g=false;var k=false;var i;var j=c.position||"absolute";var a=c.slidebarleft;var l=c.slidebarright;b();n();f();$(window).resize(n);$(window).resize(b);function b(){$("#slidebar-left, #slidebar-right").removeAttr("style");$("#viewport").removeAttr("style");var p=$(window).height();var o=$("#site").height();var s=$("#slidebar-left").height();var q=$("#slidebar-right").height();var r=Math.max(o,s,q);if(j=="fixed"){$("#bar").css({position:"fixed"});$("#slidebar-left, #slidebar-right").css({position:"fixed"});if(s>p){$("#slidebar-left").css({"overflow-y":"scroll",height:"100%"})}else{$("#slidebar-left").css({height:"100%"})}if(q>p){$("#slidebar-right").css({"overflow-y":"scroll",height:"100%"})}else{$("#slidebar-right").css({height:"100%"})}if(o<=p){$("#viewport").css({height:"100%"})}else{if(o>p){$("#viewport").css({"min-height":"100%"})}}}else{if(j=="absolute"){$("#bar").css({position:"absolute"});$("#slidebar-left, #slidebar-right").css({position:"absolute","min-height":"100%"});if(r<=p){$("#viewport").css({height:"100%"})}else{if(r>p){$("#viewport").css({"min-height":r})}}}}}function n(){var o=$(window).width();if(o<481){i="70%"}else{if(o<769){i="50%"}else{i="25%"}}}function h(){if(ie<10){$("#site, #bar").animate({left:i},400);$("#slidebar-right").animate({right:"-"+i},400)}else{$("#site, #bar, #slidebar-right").transition({x:i,duration:500,easing:"snap"})}g=true}function e(){if(ie<10){$("#site, #bar, #slidebar-left").animate({left:"-"+i},400)}else{$("#site, #bar, #slidebar-left").transition({x:"-"+i,duration:500,easing:"snap"})}k=true}function m(){if(ie<10){$("#site, #bar, #slidebar-left").animate({left:"0"},400);$("#slidebar-right").animate({right:"0"},400)}else{$("#site, #bar, #slidebar-left, #slidebar-right").transition({x:"0",duration:500,easing:"ease"})}g=false;k=false;return false}function d(){if(ie<10){$("#site, #bar, #slidebar-left").animate({left:"0"},400);$("#slidebar-right").animate({right:"0"},400)}else{$("#site, #bar, #slidebar-left, #slidebar-right").transition({x:"0",duration:500,easing:"ease"})}g=false;k=false;window.location=href}function f(){if(!a){$(".slidebar-left-control").css({display:"none"});$("#slidebar-left").css({display:"none"})}if(!l){$(".slidebar-right-control").css({display:"none"});$("#slidebar-right").css({display:"none"})}}$(".slidebar-left-control").hammer().on("tap",function(){if(!g){if(a){h()}}else{m()}});$(".slidebar-right-control").hammer().on("tap",function(){if(!k){if(l){e()}}else{m()}});$("#site").hammer().on("tap",function(o){if(g||k){m();o.preventDefault()}});$("#slidebar-left a, #slidebar-right a").hammer().on("tap",function(o){if(g||k){o.preventDefault();href=$(this).attr("href");d()}});$("#viewport").hammer().on("swipeleft",function(){if(g){m()}else{if(k){}else{if(l){e()}}}});$("#viewport").hammer().on("swiperight",function(){if(g){}else{if(k){m()}else{if(a){h()}}}})};