// Slidebars 0.6 - http://plugins.adchsm.me/slidebars/ Written by Adam Smith - http://www.adchsm.me/ Released under MIT License - http://opensource.org/licenses/MIT
;(function(b){b.slidebars=function(){function q(){s=!0;k.css({"min-height":b("html").css("height")})}function l(a){function c(){if("left"===a&&g){e=!0;var d=g.css("width");g.addClass("sb-visible");"translate"==m?p.css({"-webkit-transform":"translate("+d+")","-moz-transform":"translate("+d+")","-o-transform":"translate("+d+")",transform:"translate("+d+")"}):"jquery"==m&&p.animate({left:d},400);setTimeout(function(){b("html").addClass("sb-active sb-active-left")},400)}else"right"===a&&h&&(f=!0,d=h.css("width"), h.addClass("sb-visible"),"translate"==m?p.css({"-webkit-transform":"translate(-"+d+")","-moz-transform":"translate(-"+d+")","-o-transform":"translate(-"+d+")",transform:"translate(-"+d+")"}):"jquery"==m&&p.animate({left:"-"+d},400),setTimeout(function(){b("html").addClass("sb-active sb-active-right")},400));if("left"===a&&e||"right"===a&&f)k.off("touchend click"),setTimeout(function(){k.one("touchend click",function(a){a.preventDefault();n()})},400)}"left"===a&&g&&f||"right"===a&&h&&e?(n(),setTimeout(c, 400)):c()}function n(a){if(e||f)f=e=!1,k.off("touchend click"),"translate"==m?p.css({"-webkit-transform":"translate(0px)","-moz-transform":"translate(0px)","-o-transform":"translate(0px)",transform:"translate(0px)"}):"jquery"==m&&p.animate({left:"0px"},400),setTimeout(function(){g&&g.removeClass("sb-visible");h&&h.removeClass("sb-visible");b("html").removeClass("sb-active sb-active-left sb-active-right");a&&(window.location=a)},400)}function r(a){"left"==a&&g?e?n():e||l("left"):"right"===a&&h&&(f? n():f||l("right"))}this.init=!0;b("#sb-site").length||b("body").children().wrapAll('<div id="sb-site" />');var k=b("#sb-site");k.parent().is("body")||k.appendTo("body");k.addClass("sb-slide");if(b(".sb-left").length){var g=b(".sb-left"),e=!1;g.parent().is("body")||g.appendTo("body")}if(b(".sb-right").length){var h=b(".sb-right"),f=!1;h.parent().is("body")||h.appendTo("body")}var s=!1,c=document.createElement("div").style,t=!1,u=!1;if(""===c.MozTransition||""===c.WebkitTransition||""===c.OTransition|| ""===c.transition)t=!0;if(""===c.MozTransform||""===c.WebkitTransform||""===c.OTransform||""===c.transform)u=!0;c=navigator.userAgent;if(c.match(/(iPhone|iPod|iPad)/))q(),b("html").addClass("sb-ios");else if(c.match(/Android/)){q();var v=parseFloat(c.slice(c.indexOf("Android")+8)),c=parseInt(100*v);b("html").addClass("sb-android sb-android-"+c)}var m;m=t&&u?4.4>v?"jquery":"translate":"jquery";var p=b(".sb-slide");this.open=l;this.close=n;this.toggle=r;b(window).resize(function(){s&&q();e?l("left"): f&&l("right")});b(".sb-toggle-left").on("touchend click",function(a){a.preventDefault();r("left")});b(".sb-toggle-right").on("touchend click",function(a){a.preventDefault();r("right")});b(".sb-open-left").on("touchend click",function(a){a.preventDefault();e||l("left")});b(".sb-open-right").on("touchend click",function(a){a.preventDefault();f||l("right")});b(".sb-close").on("touchend click",function(a){a.preventDefault();(e||f)&&n()});b(".sb-slidebar a").on("touchend click",function(a){a.preventDefault(); n(b(this).attr("href"))})}})(jQuery);