// ---------
// Slidebars
// 0.2
//
// Written by Adam Smith
// http://www.adchsm.me/
//
// Slidebars uses additional scripts:
// Hammer.js by Eight Media (http://eightmedia.github.io/hammer.js/)
// Transit by Rico Sta. Cruz (http://ricostacruz.com/jquery.transit/)
// IE Detection by James Padolsey (http://james.padolsey.com/)

var ie=(function(){var c,a=3,d=document.createElement("div"),b=d.getElementsByTagName("i");while(d.innerHTML="<!--[if gt IE "+(++a)+"]><i></i><![endif]-->",b[0]){}return a>4?a:c}());function slidebars(e){var b=false,k=false,c,f,d=e.style,i=e.slidebarLeft,h=e.slidebarRight,m=e.swipes;if(typeof d==="undefined"){d="absolute"}if(typeof i==="undefined"){i=true}if(typeof h==="undefined"){h=true}if(typeof m==="undefined"){m=true}l();o();if(!i||!h){j()}$(window).resize(l);$(window).resize(o);var q=true;function l(){var v=$(window).height(),s=$("#site").height(),t=$("#slidebar-left").height(),u=$("#slidebar-right").height(),r=Math.max(s,t,u);$("#slidebar-left, #slidebar-right, #viewport").removeAttr("style");if(d==="absolute"){$("#bar").css({position:"absolute"});$("#slidebar-left, #slidebar-right").css({position:"absolute","min-height":"100%"});if(r<=v){$("#viewport").css({height:"100%"})}else{if(r>v){$("#viewport").css({"min-height":r})}}}else{if(d==="fixed"){$("#bar, #slidebar-left, #slidebar-right").css({position:"fixed"});if(t>v){$("#slidebar-left").css({"overflow-y":"scroll",height:"100%"})}else{$("#slidebar-left").css({height:"100%"})}if(u>v){$("#slidebar-right").css({"overflow-y":"scroll",height:"100%"})}else{$("#slidebar-right").css({height:"100%"})}if(s<=v){$("#viewport").css({height:"100%"})}else{if(s>v){$("#viewport").css({"min-height":"100%"})}}}}}function o(){c=$(window).width();if(c<=480){f="70%"}else{if(c<=768){f="50%"}else{f="25%"}}}function j(){if(!i){$("#slidebar-left, .slidebar-left-control").css({display:"none"})}if(!h){$("#slidebar-right, .slidebar-right-control").css({display:"none"})}}function n(){if(ie<10){$("#site, #bar").animate({left:f},400);$("#slidebar-right").animate({right:"-"+f},400)}else{$("#site, #bar, #slidebar-right").transition({x:f,duration:500,easing:"snap"})}b=true}function a(){if(ie<10){$("#site, #bar, #slidebar-left").animate({left:"-"+f},400)}else{$("#site, #bar, #slidebar-left").transition({x:"-"+f,duration:500,easing:"snap"})}k=true}function p(){if(ie<10){$("#site, #bar, #slidebar-left").animate({left:"0"},400);$("#slidebar-right").animate({right:"0"},400)}else{$("#site, #bar, #slidebar-left, #slidebar-right").transition({x:"0",duration:500,easing:"ease"})}b=false;k=false}function g(){if(ie<10){$("#site, #bar, #slidebar-left").animate({left:"0"},400);$("#slidebar-right").animate({right:"0"},400)}else{$("#site, #bar, #slidebar-left, #slidebar-right").transition({x:"0",duration:500,easing:"ease"})}b=false;k=false;window.location=href}if(i){$(".slidebar-left-control").hammer().on("tap",function(){if(!b){n()}else{p()}})}if(h){$(".slidebar-right-control").hammer().on("tap",function(){if(!k){a()}else{p()}})}$("#site").hammer().on("tap",function(){if(b||k){p()}});$("#slidebar-left a, #slidebar-right a").hammer().on("tap",function(s){if(b||k){s.preventDefault();var r=$(this).attr("href");g()}});if(m){$("#viewport").hammer().on("swipeleft",function(){if(b){p()}else{if(k){}else{if(h){a()}}}});$("#viewport").hammer().on("swiperight",function(){if(b){}else{if(k){p()}else{if(i){n()}}}})}};