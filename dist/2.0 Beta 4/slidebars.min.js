/*!
 * Slidebars - A jQuery framework for off-canvas menus and sidebars.
 * Version: 2.0 Beta 4
 * Url: http://plugins.adchsm.me/slidebars/
 * Author: Adam Charles Smith
 * Author url: http://www.adchsm.me/
 * License: GPL General Pubic License v2.0
 * License url: http://www.gnu.org/licenses/gpl-2.0.html
 */

var slidebars=function(){var t=$("[canvas]"),e={},n=!1,i=["top","right","bottom","left"],s=["reveal","push","overlay"],r="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",o=function(t,n,i,s){return e.hasOwnProperty(t)?!1:void(e[t]={id:t,side:n,style:i,element:s,active:!1})},a=function(n){var i=$(),s="0px, 0px";return("reveal"===e[n].style||"push"===e[n].style)&&(i=i.add(t)),("push"===e[n].style||"overlay"===e[n].style)&&(i=i.add(e[n].element)),e[n].active&&("top"===e[n].side?s="0px, "+e[n].element.css("height"):"right"===e[n].side?s="-"+e[n].element.css("width")+", 0px":"bottom"===e[n].side?s="0px, -"+e[n].element.css("height"):"left"===e[n].side&&(s=e[n].element.css("width")+", 0px")),{elements:i,amount:s}};this.init=function(t){$("[off-canvas]").each(function(){var t=$(this).attr("off-canvas").split(" ",3);t[0]&&-1!==i.indexOf(t[1])&&-1!==s.indexOf(t[2])&&o(t[0],t[1],t[2],$(this))}),n=!0,this.css(),$(f).trigger("init"),"function"==typeof t&&t()},this.css=function(t){if(!n)return!1;for(var i in e)if(e.hasOwnProperty(i)){var s;s=e[i].element.css("top"===e[i].side||"bottom"===e[i].side?"height":"width"),("push"===e[i].style||"overlay"===e[i].style)&&e[i].element.css("margin-"+e[i].side,"-"+s)}$(f).trigger("css"),"function"==typeof t&&t()},this.open=function(t,i){if(!n)return!1;if(!e.hasOwnProperty(t))return!1;var s=function(){e[t].active=!0,e[t].element.css("display","block"),$(f).trigger("opening",[e[t].id]);var n=a(t);n.elements.css("transform","translate("+n.amount+")"),n.elements.on(r,function(){$(f).trigger("opened",[e[t].id]),"function"==typeof i&&i(),n.elements.off(r)})};this.active()&&this.active()!==t?this.close(this.active(),function(){s()}):s()},this.close=function(t,i){if(!n)return!1;if(t&&!e.hasOwnProperty(t))return!1;if(!t)for(var s in e)e.hasOwnProperty(s)&&e[s].active===!0&&(t=s);if(t&&e[t].active===!0){e[t].active=!1,$(f).trigger("closing",[e[t].id]);var o=a(t);o.elements.css("transform","translate("+o.amount+")"),o.elements.on(r,function(){e[t].element.css("display","none"),$(f).trigger("closed",[e[t].id]),"function"==typeof i&&i(),o.elements.off(r)})}},this.toggle=function(t,i){return n&&e.hasOwnProperty(t)?void(e[t].active?this.close(t,function(){"function"==typeof i&&i()}):this.open(t,function(){"function"==typeof i&&i()})):!1},this.active=function(t,i){if(!n)return!1;if(t)return e.hasOwnProperty(t)?e[t].active:!1;var s=!1;for(var r in e)if(e.hasOwnProperty(r)&&e[r].active){s=e[r].id;break}return s},this.create=function(t,r,a,c,u){if(!n)return!1;if(t&&-1!==i.indexOf(r)&&-1!==s.indexOf(a)){if(e.hasOwnProperty(t))return!1;$('<div id="'+t+'" off-canvas="'+t+" "+r+" "+a+'"></div>').appendTo("body"),c&&$("#"+t).html(c),o(t,r,a,$("#"+t)),this.css(),$(f).trigger("created",[e[t].id]),"function"==typeof u&&u()}},this.destroy=function(t,i){if(!n)return!1;if(!e.hasOwnProperty(t))return!1;var s=function(){$(f).trigger("destroyed",[e[t].id]),e[t].element.remove(),delete e[t],"function"==typeof i&&i()};e[t].active===!0?this.close(t,function(){s()}):s()},this.events={};var f=this.events};