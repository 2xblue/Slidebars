/*!
 * Slidebars - A jQuery framework for off-canvas menus and sidebars.
 * Version: 2.0 Beta 1
 * Url: http://plugins.adchsm.me/slidebars/
 * Author: Adam Charles Smith
 * Author url: http://www.adchsm.me/
 * License: MIT
 * License url: http://opensource.org/licenses/MIT
 */

var slidebars=function(){var t=$("[canvas]"),e=($('[canvas="container"]'),{}),i=!1,n=["top","right","bottom","left"],s=["reveal","push","overlay"],o="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";this.init=function(t){$("[off-canvas]").each(function(){var t=$(this).attr("off-canvas").split(" ",3);t[0]&&-1!==n.indexOf(t[1])&&-1!==s.indexOf(t[2])&&a(t[0],t[1],t[2],$(this))}),i=!0,this.css(),c.trigger("init"),"function"==typeof t&&t()};var a=function(t,i,n,s){t in e||(e[t]={id:t,side:i,style:n,element:s,active:!1})},r=function(i){var n=$(),s="0px, 0px";return("reveal"===e[i].style||"push"===e[i].style)&&(n=n.add(t)),("push"===e[i].style||"overlay"===e[i].style)&&(n=n.add(e[i].element)),e[i].active&&("top"===e[i].side?s="0px, "+e[i].element.css("height"):"right"===e[i].side?s="-"+e[i].element.css("width")+", 0px":"bottom"===e[i].side?s="0px, -"+e[i].element.css("height"):"left"===e[i].side&&(s=e[i].element.css("width")+", 0px")),{elements:n,amount:s}};this.css=function(t){if(i){for(var n in e)if(e.hasOwnProperty(n)){var s;s=e[n].element.css("top"===e[n].side||"bottom"===e[n].side?"height":"width"),("push"===e[n].style||"overlay"===e[n].style)&&e[n].element.css("margin-"+e[n].side,"-"+s)}c.trigger("css"),"function"==typeof t&&t()}},this.open=function(t,n){if(i&&t in e){var s=function(){e[t].active=!0,e[t].element.css("display","block"),c.trigger("opening-"+e[t].id);var i=r(t);i.elements.css("transform","translate("+i.amount+")"),i.elements.on(o,function(){c.trigger("opened-"+e[t].id),"function"==typeof n&&n(),i.elements.off(o)})};this.active()&&this.active()!==t?this.close(this.active(),function(){s()}):s()}},this.close=function(t,n){if(i){if(!t)for(var s in e)e.hasOwnProperty(s)&&e[s].active===!0&&(t=s);if(t in e&&e[t].active===!0){e[t].active=!1,c.trigger("closing-"+e[t].id);var a=r(t);a.elements.css("transform","translate("+a.amount+")"),a.elements.on(o,function(){e[t].element.css("display","none"),c.trigger("closed-"+e[t].id),"function"==typeof n&&n(),a.elements.off(o)})}}},this.toggle=function(t,n){i&&t in e&&(e[t].active?this.close(t,function(){"function"==typeof n&&n()}):this.open(t,function(){"function"==typeof n&&n()}))},this.active=function(t,n){if(i){if(!t){var s=!1;for(var o in e)if(e.hasOwnProperty(o)&&e[o].active){s=e[o].id;break}return s}return t in e?e[t].active:void("function"==typeof n&&n())}},this.create=function(t,o,r,f,d){i&&t&&-1!==n.indexOf(o)&&-1!==s.indexOf(r)&&(t in e||($('<div id="'+t+'" off-canvas="'+t+" "+o+" "+r+'"></div>').appendTo("body"),f&&$("#"+t).html(f),a(t,o,r,$("#"+t)),this.css(),c.trigger("created-"+e[t].id),"function"==typeof d&&d()))},this.destroy=function(t,n){if(i&&t in e){var s=function(){c.trigger("destroyed-"+e[t].id),e[t].element.remove(),delete e[t],"function"==typeof n&&n()};e[t].active===!0?this.close(t,function(){s()}):s()}},this.events=$(this);var c=this.events};